:root{
    --bg:#0f172a10; --surface: #ffffff; --muted:#64748b; --primary:#0ea5e9; --accent:#7c3aed; --success:#16a34a; --danger:#ef4444;
    --glass: rgba(255,255,255,0.7);
}
*{box-sizing:border-box}
html,body{height:100%}
body{font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;margin:0;background:linear-gradient(180deg,#f8fafc, #eef2ff);color:#0f172a;line-height:1.4}
.topbar{background:linear-gradient(90deg,var(--primary),var(--accent));color:#fff;padding:20px 28px}
.topbar h1{margin:0;font-size:20px;letter-spacing:0.2px}
.topbar .subtitle{opacity:.95;margin:6px 0 0;font-size:13px}
.container{max-width:1200px;margin:20px auto;padding:20px}
.controls{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
.file-upload{display:flex;gap:10px;align-items:center}
.btn{background:linear-gradient(90deg,var(--accent),var(--primary));color:#fff;padding:10px 14px;border-radius:10px;border:none;cursor:pointer;box-shadow:0 6px 18px rgba(16,24,40,0.08)}
.btn.secondary{background:#fff;color:#111;border:1px solid #e6eef8}
.filters{display:flex;gap:12px;align-items:center}
.filter-item{display:flex;flex-direction:column}
.filter-item label{font-size:12px;color:var(--muted);margin-bottom:6px}
select,input[type=date],input[type=text]{padding:10px;border-radius:8px;border:1px solid #e6eef8;background:var(--surface);min-width:160px}
.filter-item input[type=search]{width:320px}
.cards{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-top:20px}
.card{background:var(--surface);padding:16px;border-radius:12px;box-shadow:0 8px 24px rgba(12,18,36,0.06);border:1px solid rgba(15,23,42,0.04)}
.card small{color:var(--muted)}
.card-value{font-weight:700;margin-top:10px;font-size:18px}
.visuals{display:flex;gap:18px;margin-top:20px}
.chart-wrap{flex:1;background:var(--surface);padding:16px;border-radius:12px;box-shadow:0 8px 24px rgba(12,18,36,0.04)}
.table-wrap{flex:1;max-height:520px;overflow:auto;background:var(--surface);padding:12px;border-radius:12px}
table{width:100%;border-collapse:collapse;font-size:14px}
thead th{position:sticky;top:0;background:linear-gradient(180deg,#fff,#fbfdff);padding:12px;text-align:left;border-bottom:1px solid #eef2ff}
tbody td{padding:10px;border-bottom:1px solid #f1f5f9}
.table-wrap table tr:hover{background:linear-gradient(90deg,#f8fafc,#fcfcff)}
.table-wrap td{transition:background .12s ease}
.table-wrap #txCount{font-size:13px;color:var(--muted);padding:6px 10px}
.backend-sim{margin-top:20px;background:var(--surface);padding:14px;border-radius:12px;box-shadow:0 6px 18px rgba(12,18,36,0.04)}
.sim-row{display:flex;gap:10px;align-items:center}
.ai-output{background:#0b122033;color:#071123;padding:12px;border-radius:8px;max-height:220px;overflow:auto}
.footer{text-align:center;padding:12px;color:var(--muted);margin-top:18px}

@media(max-width:1000px){.cards{grid-template-columns:repeat(2,1fr)}.visuals{flex-direction:column}.filters{width:100%;justify-content:flex-start}}

/* ---- GERAL & VARIÁVEIS ---- */
:root {
    --primary-color: #2c3e50;
    --secondary-color: #3498db;
    --background-color: #ecf0f1;
    --surface-color: #ffffff;
    --font-color: #34495e;
    --border-color: #bdc3c7;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--background-color);
    color: var(--font-color);
    line-height: 1.6;
}

main {
    max-width: 1200px;
    margin: 20px auto;
    padding: 0 20px;
}

header, footer {
    text-align: center;
    padding: 20px;
    background-color: var(--primary-color);
    color: white;
}

section {
    background-color: var(--surface-color);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

h1, h2, h3 {
    color: var(--primary-color);
}

/* ---- UTILITÁRIOS ---- */
.hidden {
    display: none;
}

/* ---- CONTROLOS ---- */
#controls {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    align-items: center;
}

.control-group {
    display: flex;
    flex-direction: column;
}

input[type="file"], input[type="date"], select, button {
    padding: 8px 12px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 1rem;
}

button {
    background-color: var(--secondary-color);
    color: white;
    cursor: pointer;
    border: none;
    transition: background-color 0.2s;
}

button:hover {
    background-color: #2980b9;
}

button:disabled {
    background-color: #bdc3c7;
    cursor: not-allowed;
}


/* ---- DASHBOARD ---- */
#initial-message {
    text-align: center;
    padding: 40px;
    font-size: 1.2rem;
    color: #7f8c8d;
}

#cards-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-bottom: 30px;
}

.card {
    flex-grow: 1;
    background-color: #f9f9f9;
    padding: 20px;
    border-radius: 8px;
    border-left: 5px solid var(--secondary-color);
}

.card h3 {
    margin-top: 0;
    font-size: 1rem;
}

.card .value {
    font-size: 1.8rem;
    font-weight: bold;
    color: var(--primary-color);
}

/* ---- TABELA ---- */
#table-wrapper {
    max-height: 400px;
    overflow-y: auto;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

th, td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}

thead th {
    background-color: #f2f2f2;
    position: sticky;
    top: 0;
}

tbody tr:nth-child(even) {
    background-color: #f8f8f8;
}

tbody tr:hover {
    background-color: #e8f4fd;
}